<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Simple CORS Test</title>
</head>
<body>
    <h1>Super Simple CORS Test</h1>
    <button onclick="testFetch()">Test with Fetch</button>
    <button onclick="testXHR()">Test with XMLHttpRequest</button>
    <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;"></div>

    <script>
        // Test with Fetch API
        function testFetch() {
            document.getElementById('result').textContent = 'Testing with Fetch...';
            
            fetch('http://localhost:8000/ping')
                .then(function(response) {
                    return response.json();
                })
                .then(function(data) {
                    document.getElementById('result').textContent = 'Fetch Success: ' + JSON.stringify(data);
                    console.log('Fetch Success:', data);
                })
                .catch(function(error) {
                    document.getElementById('result').textContent = 'Fetch Error: ' + error.message;
                    console.error('Fetch Error:', error);
                });
        }
        
        // Test with XMLHttpRequest
        function testXHR() {
            document.getElementById('result').textContent = 'Testing with XMLHttpRequest...';
            
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'http://localhost:8000/ping', true);
            
            xhr.onload = function() {
                if (xhr.status >= 200 && xhr.status < 300) {
                    var data = JSON.parse(xhr.responseText);
                    document.getElementById('result').textContent = 'XHR Success: ' + xhr.responseText;
                    console.log('XHR Success:', data);
                } else {
                    document.getElementById('result').textContent = 'XHR Error: ' + xhr.statusText;
                    console.error('XHR Error:', xhr.status, xhr.statusText);
                }
            };
            
            xhr.onerror = function() {
                document.getElementById('result').textContent = 'XHR Network Error';
                console.error('XHR Network Error');
            };
            
            xhr.send();
        }
    </script>
</body>
</html> 